{"version":3,"sources":["images/world.svg","images/br.svg","images/cn.svg","images/es.svg","images/in.svg","images/jp.svg","images/ru.svg","images/th.svg","images/us.svg","theme.js","StreetFighter.js","constants.js","utils.js","components/common/Cell.js","components/common/Grid.js","components/common/Image.js","components/WorldMap.js","components/Dpad.js","components/Player1.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","theme","color","primary","lightGray","darkGray","dark","white","lightBorder","concat","backgroundColor","StreetFighter","_this","this","Object","classCallCheck","selectFighter","move","position","keys","right","fighterNames","length","left","up","Math","max","down","min","38","40","37","39","portraitIds","Ryu","E.Honda","Blanka","Guile","Balrog","Vega","Ken","Chun Li","Zangief","Dhalsim","Sagat","M.Bison","mapIds","25","name","country","USA","fighter","14","26","7","USSR","32","China","21","Japan","33","63","Brazil","56","Thailand","57","43","India","16","Spain","MAP_ROWS","MAP_COLUMNS","flatten","matrix","_ref","apply","toConsumableArray","generateMatrix","rows","columns","i","j","push","flashColorAnimation","keyframes","_templateObject","Cell","styled","div","_templateObject3","active","css","_templateObject2","Grid","Grid_templateObject","Img","img","Image_templateObject","WorldMap","renderMapCells","map","_","activeFighter","props","location","state","_mapIds$i","react_default","a","createElement","MapCellWrap","key","MapCell","countryBg","render","MapGrid","Component","WorldMap_templateObject","World","WorldMap_templateObject2","WorldMap_templateObject3","_ref2","Dpad","DpadArea","Dpad_templateObject","Player1","StyledPlayer1","StyledText","Player1_templateObject","Player1_templateObject2","App","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","elFocus","focus","console","log","handleKeyPress","e","sf","keyCode","setState","history","pathname","toLowerCase","renderFighterCells","onKeyPress","components_Player1","src","alt","AppWrap","ref","el","onKeyDown","tabIndex","Switch","Route","path","component","components_Dpad","FighterGrid","App_templateObject","App_templateObject2","withRouter","WRAPPED_APP","BrowserRouter","styled_components_browser_esm","src_App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0d5cdf30.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/world.23f30fd9.svg\";","module.exports = __webpack_public_path__ + \"static/media/br.f72a49f6.svg\";","module.exports = __webpack_public_path__ + \"static/media/cn.ad40b3a7.svg\";","module.exports = __webpack_public_path__ + \"static/media/es.734f30e7.svg\";","module.exports = __webpack_public_path__ + \"static/media/in.7fb3e9b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/jp.66dacdf5.svg\";","module.exports = __webpack_public_path__ + \"static/media/ru.184650f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/th.3d39bf3e.svg\";","module.exports = __webpack_public_path__ + \"static/media/us.b56eb654.svg\";","const primary = '#d7051c';\r\nconst lightGray = '#eee';\r\nconst darkGray = '#8d8d8d';\r\nconst dark = '#1d1d1d';\r\nconst white = '#fff';\r\n\r\nexport default {\r\n  color: {\r\n    primary,\r\n    lightGray,\r\n    darkGray,\r\n    dark,\r\n    white\r\n  },\r\n  lightBorder: `2px solid ${lightGray}`,\r\n  backgroundColor: '#06004a'\r\n};\r\n","class StreetFighter {\r\n  constructor() {\r\n    this.keys = {\r\n      38: 'up',\r\n      40: 'down',\r\n      37: 'left',\r\n      39: 'right'\r\n    };\r\n    this.position = [0, 0];\r\n    this.fighterNames = [\r\n      ['Ryu', 'E.Honda', 'Blanka', 'Guile', 'Balrog', 'Vega'],\r\n      ['Ken', 'Chun Li', 'Zangief', 'Dhalsim', 'Sagat', 'M.Bison']\r\n    ];\r\n  }\r\n\r\n  selectFighter = move => {\r\n    const position = this.position;\r\n    if (this.keys[move]) {\r\n      if (this.keys[move] === 'right') {\r\n        const right = position[1] + 1;\r\n        position[1] = right > this.fighterNames[0].length - 1 ? 0 : right;\r\n      } else if (this.keys[move] === 'left') {\r\n        const left = position[1] - 1;\r\n        position[1] = left < 0 ? this.fighterNames[0].length - 1 : left;\r\n      } else if (this.keys[move] === 'up') {\r\n        const up = position[0] - 1;\r\n        position[0] = Math.max(up, 0);\r\n      } else if (this.keys[move] === 'down') {\r\n        const down = position[0] + 1;\r\n        position[0] = Math.min(down, this.fighterNames.length - 1);\r\n      }\r\n    }\r\n    return this.fighterNames[position[0]][position[1]];\r\n  };\r\n}\r\n\r\nexport default StreetFighter;\r\n","import {\r\n  USA,\r\n  USSR,\r\n  China,\r\n  Japan,\r\n  Brazil,\r\n  Thailand,\r\n  India,\r\n  Spain\r\n} from './images';\r\n\r\nconst portraitIds = {\r\n  Ryu: 'https://i.postimg.cc/J0Z3QYqq/ryu.gif',\r\n  'E.Honda': 'https://i.postimg.cc/qBPjCyLw/ehonda.gif',\r\n  Blanka: 'https://i.postimg.cc/fRKKFFhq/blanka.gif',\r\n  Guile: 'https://i.postimg.cc/wB4kxmMh/guile.gif',\r\n  Balrog: 'https://i.postimg.cc/WpF53XMt/balrog.gif',\r\n  Vega: 'https://i.postimg.cc/RVxL09Sb/vega.gif',\r\n  Ken: 'https://i.postimg.cc/QtRk1ZpC/ken.gif',\r\n  'Chun Li': 'https://i.postimg.cc/MK1t0H3S/chun-li.gif',\r\n  Zangief: 'https://i.postimg.cc/fW9vZkN9/zangief.gif',\r\n  Dhalsim: 'https://i.postimg.cc/wjH2wzns/dhalsim.gif',\r\n  Sagat: 'https://i.postimg.cc/tT1Ns4n8/sagat.gif',\r\n  'M.Bison': 'https://i.postimg.cc/rpwJLJVV/mbison.gif'\r\n};\r\n\r\nconst mapIds = {\r\n  25: { name: 'USA', country: USA, fighter: 'Guile' },\r\n  14: { name: 'USA', country: USA, fighter: 'Ken' },\r\n  26: { name: 'USA', country: USA, fighter: 'Balrog' },\r\n  7: { name: 'USSR', country: USSR, fighter: 'Zangief' },\r\n  32: { name: 'CHINA', country: China, fighter: 'Chun Li' },\r\n  21: { name: 'JAPAN', country: Japan, fighter: 'Ryu' },\r\n  33: { name: 'JAPAN', country: Japan, fighter: 'E.Honda' },\r\n  63: { name: 'BRAZIL', country: Brazil, fighter: 'Blanka' },\r\n  56: { name: 'THAILAND', country: Thailand, fighter: 'M.Bison' },\r\n  57: { name: 'THAILAND', country: Thailand, fighter: 'Sagat' },\r\n  43: { name: 'INDIA', country: India, fighter: 'Dhalsim' },\r\n  16: { name: 'SPAIN', country: Spain, fighter: 'Vega' }\r\n};\r\n\r\nconst MAP_ROWS = 8;\r\nconst MAP_COLUMNS = 12;\r\n\r\nexport { portraitIds, mapIds, MAP_ROWS, MAP_COLUMNS };\r\n","const flatten = matrix => {\r\n  return [].concat(...matrix);\r\n};\r\n\r\nconst generateMatrix = (rows, columns) => {\r\n  const matrix = [];\r\n  for (let i = 0; i < rows; i++) {\r\n    for (let j = 0; j < columns; j++) {\r\n      matrix.push(0);\r\n    }\r\n  }\r\n  return matrix;\r\n};\r\n\r\nexport { flatten, generateMatrix };\r\n","import styled, { keyframes, css } from 'styled-components';\r\n\r\nconst flashColorAnimation = () => keyframes`\r\n  0% { filter: none; }\r\n  10% { filter: grayscale(100%); }\r\n  20% { filter: none; }\r\n  30% { filter: grayscale(100%); }\r\n  40% { filter: none; }\r\n  50% { filter: grayscale(100%); }\r\n  60% { filter: none; }\r\n  70% { filter: grayscale(100%); }\r\n  80% { filter: none; }\r\n  90% { filter: grayscale(100%); }\r\n  100% { filter: none; }\r\n`;\r\n\r\nconst activeCSS = () => css`\r\n  animation: ${flashColorAnimation} 0.5s linear;\r\n  animation-fill-mode: forwards;\r\n`;\r\n\r\nconst Cell = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n  border: 2px solid #eee;\r\n  filter: grayscale(100%);\r\n  ${({ active }) => (active ? activeCSS() : '')}\r\n`;\r\n\r\nexport { Cell };\r\n","import styled from 'styled-components';\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n`;\r\n\r\nexport { Grid };\r\n","import styled from 'styled-components';\r\n\r\nconst Img = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport { Img };\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { World } from './../images';\r\nimport { mapIds, MAP_COLUMNS, MAP_ROWS } from './../constants';\r\nimport { generateMatrix } from './../utils';\r\n// components\r\nimport { Cell, Grid } from './common';\r\n\r\nclass WorldMap extends Component {\r\n  renderMapCells = () => {\r\n    return generateMatrix(MAP_ROWS, MAP_COLUMNS).map((_, i) => {\r\n      if (mapIds[i]) {\r\n        const activeFighter = this.props.location.state;\r\n        const { country, fighter, name } = mapIds[i];\r\n        const active = fighter === activeFighter;\r\n        return (\r\n          <MapCellWrap key={i} active={active}>\r\n            <MapCell countryBg={country} active={active} />\r\n            {name}\r\n          </MapCellWrap>\r\n        );\r\n      }\r\n      return <MapCell key={i} />;\r\n    });\r\n  };\r\n\r\n  render = () => {\r\n    return <MapGrid>{this.renderMapCells()}</MapGrid>;\r\n  };\r\n}\r\n\r\nconst MapGrid = styled(Grid)`\r\n  grid-area: world-map;\r\n  width: 1000px;\r\n  height: 400px;\r\n  background: url(${World}) center center no-repeat;\r\n  background-size: contain;\r\n  grid-template-columns: repeat(${MAP_COLUMNS}, 1fr);\r\n  grid-template-rows: repeat(${MAP_ROWS}, 1fr);\r\n  box-sizing: border-box;\r\n  border: 2px solid limegreen;\r\n`;\r\n\r\nconst MapCellWrap = styled.div`\r\n  padding: 10%;\r\n  text-align: center;\r\n  color: ${({ active }) => (active ? 'red' : 'white')};\r\n  font-size: 12px;\r\n  font-weight: bolder;\r\n`;\r\n\r\nconst MapCell = styled(Cell)`\r\n  background: url(${({ countryBg }) => countryBg}) no-repeat center center;\r\n  background-size: cover;\r\n  border: none;\r\n  border-radius: 2px;\r\n`;\r\n\r\nexport default WorldMap;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nclass Dpad extends Component {\r\n  render = () => {\r\n    return (\r\n      <DpadArea>\r\n        <button>up</button>\r\n        <button>left</button>\r\n        <button>right</button>\r\n        <button>down</button>\r\n      </DpadArea>\r\n    );\r\n  };\r\n}\r\n\r\nconst DpadArea = styled.div`\r\n  grid-area: dpad;\r\n  border: 2px solid yellow;\r\n`;\r\n\r\nexport default Dpad;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nclass Player1 extends Component {\r\n  render = () => {\r\n    return (\r\n      <StyledPlayer1>\r\n        <StyledText>P1</StyledText>\r\n      </StyledPlayer1>\r\n    );\r\n  };\r\n}\r\n\r\nconst StyledPlayer1 = styled.div`\r\n  width: 0;\r\n  height: 0;\r\n  color: white;\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n  border-left: 1.4em solid transparent;\r\n  border-right: 1.4em solid transparent;\r\n  border-top: 2em solid red;\r\n`;\r\n\r\nconst StyledText = styled.div`\r\n  position: absolute;\r\n  margin-top: -2em;\r\n`;\r\n\r\nexport default Player1;\r\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport StreetFighter from './StreetFighter';\nimport { portraitIds } from './constants';\nimport { flatten } from './utils';\nimport styled from 'styled-components';\n// components\nimport WorldMap from './components/WorldMap';\nimport Dpad from './components/Dpad';\nimport Player1 from './components/Player1';\nimport { Cell, Grid, Img } from './components/common';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.sf = new StreetFighter();\n    this.state = {\n      active: this.props.location.state // fighter passed in from router\n    };\n  }\n\n  // focus on selection box\n  componentDidMount = () => {\n    this.elFocus.focus();\n    console.log(this.props);\n  };\n\n  // route to selected fighter details\n  handleKeyPress = e => {\n    const fighter = this.sf.selectFighter(e.keyCode);\n    this.setState({ active: fighter }, () => {\n      this.props.history.push({\n        pathname: `/${fighter.toLowerCase()}`,\n        state: fighter\n      });\n    });\n  };\n\n  renderFighterCells = () => {\n    return flatten(this.sf.fighterNames).map((fighter, i) => {\n      return (\n        <Cell\n          key={i}\n          onKeyPress={this.handleKeyPress}\n          active={this.state.active === fighter}\n        >\n          {this.state.active === fighter ? <Player1 /> : ''}\n          <Img src={portraitIds[fighter]} alt={fighter} />\n        </Cell>\n      );\n    });\n  };\n\n  render = () => {\n    return (\n      <AppWrap\n        ref={el => (this.elFocus = el)}\n        onKeyDown={this.handleKeyPress}\n        tabIndex=\"0\"\n      >\n        <Switch>\n          <Route path=\"*\" component={WorldMap} />\n        </Switch>\n        <Dpad />\n        <FighterGrid onKeyDown={this.handleKeyPress}>\n          {this.renderFighterCells()}\n        </FighterGrid>\n      </AppWrap>\n    );\n  };\n}\n\nconst AppWrap = styled.div`\n  background: ${({ theme }) => theme.backgroundColor};\n  height: 100%;\n  display: grid;\n  grid-template-areas:\n    'world-map world-map'\n    'dpad fighters';\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  border: 2px solid red;\n`;\n\nconst FighterGrid = styled(Grid)`\n  grid-area: fighters;\n  width: 100%;\n  outline: none;\n  display: grid;\n  grid-template-columns: repeat(6, 120px);\n  border: 2px solid hotpink;\n`;\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\n// theme provider\nimport { ThemeProvider } from 'styled-components';\nimport theme from './theme';\n// components\nimport App from './App';\n\nconst WRAPPED_APP = (\n  <BrowserRouter>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </BrowserRouter>\n);\n\nReactDOM.render(WRAPPED_APP, document.getElementById('root'));\n"],"sourceRoot":""}